# MBTI十六型人格AI项目 — 需求文档（PRD）v0.2

> 说明：本文档**只写需求，不做技术架构设计**。  
> 当前版本聚焦 **AI陪伴模块** 和 **内容创作模块**；角色扮演暂时搁置；AI游戏暂时搁置不设计。  

## 1. 项目概述

### 1.1 项目目标
- 提供基于 **MBTI 十六型人格** 的 AI 陪伴体验：用户可与“数字人”进行长期互动，形成陪伴关系。
- 支持 **文字/语音输入**，并允许数字人以 **文字或语音** 回复（用户可选择）。
- 提供 **背景/服装** 等“物品”系统增强沉浸感。
- 通过 **人格解锁/购买/抽奖** 实现可持续的商业化路径。

### 1.2 核心卖点（MVP）
- 黑色背景的最基础数字人形象（低门槛、先跑通体验）
- 文字/语音对话互动
- 回复方式可选（文字/语音）
- 物品：可更换背景与服装
- 人格系统：首次登录赠送 3 个 MBTI 人格，其余人格购买或抽奖获得

### 1.3 名词解释
- **人格/人格卡**：MBTI 十六型之一（如 INFP、ENTJ），对应一套 persona（说话风格、价值观、禁忌、互动偏好）。
- **数字人**：网页端展示的虚拟形象（本期为“最基础”形态），可随人格/服装/背景变化。
- **物品**：可装配的视觉资源（背景、服装），用于提升沉浸感。
- **抽奖**：消耗抽奖次数/道具，随机获得未拥有的人格或其他奖励（详见商店模块）。

## 2. 用户与场景

### 2.1 目标用户
- 需要情绪价值、陪聊、陪伴的用户
- 喜欢 MBTI、人格测试、角色属性设定的用户
- 内容创作/灵感获取用户（后续模块）

### 2.2 典型使用场景（AI陪伴）
- 睡前聊天、情绪倾诉、日常陪伴
- 语音聊天（解放双手）
- 切换人格体验不同的“陪伴风格”
- 通过换装/换背景营造不同氛围

## 3. 模块范围（总览）

### 3.1 AI陪伴（本期重点设计）
- 数字人展示、对话互动（文字/语音）
- 回复方式选择（文字/语音）
- 人格系统（赠送/购买/抽奖/切换）
- 物品系统（背景/服装切换）
- 基础账号与首次登录引导

### 3.2 角色扮演（暂时搁置）
- 暂时搁置，不做设计、不开发、不评审。
- 未来可在“人格”基础上扩展角色设定、剧情、关系线。

### 3.3 内容创作（本期详细设计）
- 支持用户添加至多3个数字人，以对话框群聊形式进行互相沟通
- 可配置每个数字人的假设人物背景、MBTI（从已获得的人格中选择）
- AI之间可进行角色演绎和对话
- 使用者可以插话参与群聊

### 3.4 AI游戏（搁置）
- 不做设计、不开发、不评审。

## 4. AI陪伴模块（详细需求）

### 4.1 信息架构（页面/入口）
- **登录/注册页**
- **新手引导页**（首次登录出现）
- **陪伴主界面（核心）**
  - 黑色背景数字人展示区
  - 对话区（聊天气泡/消息列表）
  - 输入区（文字输入、语音输入按钮）
  - 回复方式选择（数字人回复：文字/语音）
  - 当前人格入口（查看/切换）
  - 物品入口（背景/服装）
  - 商店入口（购买人格、抽奖）
- **人格库/人格切换页**
- **物品页（背景/服装）**
- **商店页（人格购买/抽奖）**
- **设置页**
  - 音量/语速（若语音回复）
  - 隐私与数据说明（简版）

### 4.2 数字人展示（视觉与交互）
#### 4.2.1 基础要求
- 页面整体基调：**黑色背景**（默认）
- 中央展示“最基础数字人”
- 数字人状态：
  - 待机（无对话时）
  - 说话中（语音回复时口型/提示）
  - 思考中（生成回复中）

#### 4.2.2 交互要求
- 当用户发送消息后，数字人进入“思考中”状态
- 回复输出时切回“说话中/待机”

> 备注：本期不要求复杂动作、表情系统；只需基础可用与状态可感知。

### 4.3 对话互动（文字/语音）

#### 4.3.1 输入方式
- **文字输入**
  - 单行/多行输入框
  - 发送按钮
  - Enter 发送（可选）
- **语音输入**
  - **主要方式**：点击开始/结束按钮（点击开始录音，再次点击结束并发送）
  - **可选方式**：可切换到实时监听模式（持续监听，自动断句发送）
  - 识别结果展示为文本（发送前可编辑：可选）

#### 4.3.2 输出方式（数字人回复）
用户可选择数字人回复为：
- **文字回复**：在聊天区展示
- **语音回复**：播放语音，**默认同时显示文字稿**（便于用户复看和确认内容）

#### 4.3.3 回复方式切换
在主界面提供一个明确开关：
- 回复模式：`文字` / `语音`
- 切换后对后续回复生效（不影响历史消息）

#### 4.3.4 对话体验规则（MVP）
- 每次回复必须体现当前人格的风格差异（用词、语气、建议方式）
- 对敏感内容：给出安全提示与引导（不展开技术实现，仅要求产品层面：**必须有边界**）

### 4.4 人格系统（MBTI 十六型）

#### 4.4.1 人格数量
- 16 种 MBTI 人格

#### 4.4.2 首次登录赠送
- 用户首次登录后，系统**随机赠送 3 个 MBTI 人格**（从16种中随机抽取，不重复）
- **不允许重抽**：赠送结果确定后不可更改
- 赠送后进入“选择一个人格开始陪伴”的引导

#### 4.4.3 人格切换
在主界面可随时切换已拥有的人格：
- 切换后影响数字人说话风格与互动方式
- 切换时提示“当前人格已变更”

#### 4.4.4 人格获取方式（非赠送）
其余人格可通过：
1) **人民币直购**（商城，直接支付购买）
2) **单次抽奖**获得（商城，消耗抽奖次数/道具）

#### 4.4.5 人格状态
每个人格在用户侧状态：
- 未拥有
- 已拥有（可使用）

### 4.5 物品系统（背景/服装）

#### 4.5.1 物品类型
- 背景（默认黑色背景 + 可选背景）
- 服装（基础服装 + 可选服装）

#### 4.5.2 更换逻辑
- 用户在“物品页”选择背景/服装并应用
- 应用后在主界面实时生效

#### 4.5.3 获取方式（本期）
> 本期仅要求“能更换”，不强制绑定付费。  
后续可扩展：背景/服装与抽奖/购买绑定。

### 4.6 商店与抽奖（MVP）

#### 4.6.1 商店入口
主界面提供“商店”入口，包含：
- 人格购买
- 单次抽奖

#### 4.6.2 人格购买
- 展示未拥有的人格列表
- 显示**人民币价格**（如：¥9.9/个，具体价格后续定价）
- 支持微信支付/支付宝等支付方式
- 购买成功后人格立即变为“已拥有”并可使用

#### 4.6.3 单次抽奖
- 每次抽奖获得一个奖励：
  - 优先：未拥有的人格（若全拥有则给其他奖励：本期可先不做）
- 抽奖结果弹窗展示：人格名称 + 说明

### 4.7 新手引导（首次登录）
#### 4.7.1 引导目标
让用户在 1 分钟内完成：
1) 领取 3 个赠送人格
2) 选择一个人格进入陪伴
3) 完成第一句对话（文字或语音）

#### 4.7.2 引导步骤（建议）
- Step1：欢迎页 + 说明“赠送 3 个人格”
- Step2：展示 3 个已获得人格卡
- Step3：选择一个人格
- Step4：提示“你可以打字/语音对话，并可设置回复方式”

### 4.8 设置与偏好（MVP）
主界面设置入口包含：
- 回复方式默认值（文字/语音）
- 语音播放音量（若语音）
- 文本字号（可选）
- 隐私说明（简版）

## 5. 规则与约束（产品层）

### 5.1 安全边界（必须）
- 对话需避免引导用户产生不当依赖、或输出高风险内容
- 遇到高风险话题（自伤等）必须给出“寻求专业帮助”的提示（文案后续补）

### 5.2 内容与风格一致性
- 同一人格在同一用户会话中应保持稳定风格
- 切换人格后风格应明显变化

## 6. 数据与指标（用于验收与迭代）

### 6.1 核心指标（AI陪伴）
- 新用户首日完成对话率（完成至少 1 次对话）
- 日活/周活（DAU/WAU）
- 人格切换次数（人设吸引力）
- 语音输入使用率、语音回复使用率
- 商店点击率、购买转化率、抽奖转化率

### 6.2 关键事件（埋点清单）
- 首次登录完成
- 领取 3 个人格
- 选择人格
- 发送消息（文字/语音）
- 回复方式切换（文字/语音）
- 更换背景/服装
- 打开商店
- 购买人格成功
- 抽奖一次

## 7. 验收标准（AI陪伴 MVP）
- 用户可完成注册/登录并进入主界面
- 首次登录可领取 3 个赠送人格并选择其中一个开始对话
- 主界面可：
  - 文字输入并收到回复
  - 语音输入并收到回复（至少能跑通一条链路）
  - 切换数字人回复方式（文字/语音）
  - 切换人格（风格明显不同）
  - 更换背景/服装（能生效）
- 商店可：
  - 购买未拥有的人格并立即可用
  - 抽奖获得人格并立即可用

## 8. 内容创作模块（详细需求）

### 8.1 模块定位
- **核心价值**：用户可创建多个数字人，让它们以群聊形式互相沟通，进行角色演绎，用户可插话参与
- **应用场景**：创作灵感、角色对话练习、剧情构思、多人对话模拟

### 8.2 信息架构（页面/入口）
- **内容创作主界面**
  - 群聊对话区（类似微信群聊界面）
  - 数字人列表/管理区（显示当前已添加的数字人，最多3个）
  - 用户输入区（插话输入）
  - 数字人配置入口（添加/编辑数字人）
  - 导出/保存对话入口（可选，MVP可先不做）

### 8.3 数字人管理（最多3个）

#### 8.3.1 添加数字人
- 用户可添加数字人到群聊（上限3个，至少需要2个才能开始群聊）
- 添加时需配置：
  - **假设人物背景**：自由文本输入（如："一位来自古代的剑客，性格孤傲"）
  - **MBTI人格**：从**已获得的人格**中选择（未拥有的人格不可选）
  - **数字人名称**：自定义名称（如："李白"、"小A"）
- **对话主题**：用户必须设定一个对话主题（如："讨论什么是真正的友谊"、"模拟一次商业谈判"），作为群聊的讨论方向

#### 8.3.2 编辑数字人
- 可随时编辑已添加数字人的：
  - 人物背景
  - MBTI人格（只能从已拥有的人格中选择）
  - 名称
- 可编辑对话主题
- 编辑后对后续对话生效（若正在对话中，需重新开始群聊）

#### 8.3.3 删除数字人
- 可删除已添加的数字人
- 删除后该数字人不再参与群聊

### 8.4 群聊对话机制

#### 8.4.1 对话形式
- **群聊界面**：类似微信群聊，显示所有数字人和用户的发言
- **发言标识**：每条消息显示发言者名称（数字人名称或"我"）
- **消息顺序**：按时间顺序展示

#### 8.4.2 AI之间的角色演绎
- 数字人之间可**围绕设定的对话主题进行对话**
- 对话需符合各自配置的：
  - **人物背景**（如：古代剑客会使用古风语言）
  - **MBTI人格**（如：INFP会更感性，ENTJ会更理性直接）
- 对话应围绕主题展开，自然、有逻辑，体现角色差异
- 对话轮次：最多10轮（实际可能少于10轮，取决于对话自然结束）

#### 8.4.3 对话触发机制（MVP）
- **触发方式**：用户配置好全部数字人信息（至少2个数字人）并设定对话主题后，点击**"开始群聊"**按钮开始对话
- **对话轮次**：每次触发，AI之间可进行**最多10轮对话**（实际轮次可能少于10轮，取决于对话自然结束）
- **重新开始**：用户可随时点击"重新开始"按钮，清空当前对话并重新开始

#### 8.4.4 用户插话
- 用户可在任意时刻**插话**参与群聊
- 插话方式：
  - 文字输入（同AI陪伴模块）
  - 语音输入（可选，MVP可先不做）
- 用户发言后：
  - AI会识别用户身份（"用户"）
  - AI会根据上下文和各自角色背景进行回应
  - 可继续触发AI之间的对话

### 8.5 对话体验规则

#### 8.5.1 角色一致性
- 每个数字人在对话中必须保持：
  - 人物背景设定的一致性（如：古代人不会说现代网络用语）
  - MBTI人格风格的一致性（如：INFP的说话方式应始终体现其性格特征）

#### 8.5.2 对话逻辑
- AI之间的对话应有逻辑关联（不能各说各话）
- 对话应体现角色之间的互动（如：冲突、合作、讨论等）

#### 8.5.3 用户参与感
- 用户插话后，AI应能识别并回应
- AI的回应应结合：
  - 用户输入的内容
  - 各自的人物背景
  - 当前的对话上下文

### 8.6 界面与交互

#### 8.6.1 群聊界面布局
- **对话区**：占据主要区域，显示所有消息
- **数字人列表**：侧边或顶部显示当前已添加的数字人（头像/名称）
- **对话主题显示区**：显示当前设定的对话主题
- **输入区**：底部输入框，用于用户插话
- **控制区**：包含"开始群聊"按钮（配置完成后才可点击）、"重新开始"、"添加数字人"等按钮

#### 8.6.2 数字人配置界面
- **添加数字人**：表单包含"名称"、"人物背景"、"MBTI人格"（下拉选择，仅显示已拥有的人格）
- **编辑数字人**：同添加界面，预填充现有信息
- **删除确认**：删除时需二次确认
- **对话主题设定**：在数字人配置区域或主界面提供"对话主题"输入框（必填），用户必须输入主题才能开始群聊

### 8.7 数据与指标（内容创作模块）

#### 8.7.1 核心指标
- 内容创作模块使用率（有多少用户使用）
- 平均每个用户创建的数字人数量
- 平均每次群聊的对话轮次
- 用户插话频率
- 对话主题类型分布（了解用户偏好）

#### 8.7.2 关键事件（埋点）
- 进入内容创作模块
- 添加数字人
- 编辑数字人
- 设定对话主题
- 点击"开始群聊"
- 用户插话
- 删除数字人
- 重新开始群聊

### 8.8 验收标准（内容创作模块 MVP）
- 用户可进入内容创作模块
- 用户可添加数字人（最多3个，至少2个），配置人物背景和MBTI人格（从已拥有的人格中选择）
- 用户必须设定对话主题才能开始群聊
- 用户点击"开始群聊"后，AI之间围绕主题进行对话（最多10轮），对话体现各自角色背景和MBTI风格
- 用户可插话参与群聊，AI能识别并回应
- 用户可编辑/删除已添加的数字人，可修改对话主题
- 用户可点击"重新开始"清空对话并重新开始
- 对话界面清晰，能区分不同发言者

### 8.9 已确认的产品决策（内容创作模块）
1) ✅ **AI对话触发方式**：用户配置好全部数字人信息（至少2个）并设定对话主题后，点击"开始群聊"按钮开始  
2) ✅ **对话轮次**：最多10轮（实际可能少于10轮，取决于对话自然结束）  
3) ✅ **对话导出功能**：MVP不导出（暂不支持）  
4) ✅ **数字人数量上限**：暂不考虑扩展，保持最多3个  
5) ✅ **对话主题设定**：必须设定对话主题，作为群聊的讨论方向

---

## 9. 模块优先级与开发顺序

### 9.1 第一阶段（MVP）
1. **AI陪伴模块**（核心功能）
   - 登录/注册
   - 首次登录赠送3个随机人格
   - 基础数字人展示
   - 文字/语音对话
   - 人格切换
   - 商店（购买/抽奖）

2. **内容创作模块**（核心功能）
   - 添加数字人（最多3个）
   - 配置人物背景和MBTI
   - AI群聊对话
   - 用户插话

### 9.2 第二阶段（优化）
- 物品系统（背景/服装）完善
- 语音输入优化（实时监听模式）
- 对话导出功能
- 更多数字人数量支持

### 9.3 第三阶段（扩展）
- 角色扮演模块（如需要）
- 高级功能（如对话历史、人格演化等）

---

## 10. 已确认的产品决策（v0.2更新）

### 10.1 AI陪伴模块确认项
1. ✅ **首次登录赠送**：随机赠送3个MBTI人格，**不允许重抽**
2. ✅ **计费体系**：人格购买采用**人民币直购**（不支持虚拟币/订阅制）
3. ✅ **语音输入**：主要方式为**点击开始/结束**，支持切换到**实时监听模式**
4. ✅ **语音回复**：**默认同时显示文字稿**（便于用户复看）

### 10.2 内容创作模块确认项
1. ✅ **数字人数量上限**：最多3个
2. ✅ **MBTI选择限制**：只能从已获得的人格中选择
3. ✅ **用户插话**：支持用户参与群聊
4. ✅ **角色演绎**：AI之间可进行角色演绎对话  

